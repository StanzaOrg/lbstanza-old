defpackage stz/reg-alloc-errors :
  import core
  import collections

public deftype RegAllocError <: Exception

;Occurs when there is an error when reading syntax for
;RegAllocIR.
public defstruct RegAllocSyntaxError <: RegAllocError :
  info:FileInfo|False
  msg
defmethod print (o:OutputStream, e:RegAllocSyntaxError) :
  print(o, "%_%_" % [info-str(info(e)), msg(e)])

;Helper: Create the information string.
defn info-str (info:FileInfo|False) :
  "" when info is False else "%_: " % [info]