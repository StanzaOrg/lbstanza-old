defpackage stz/reg-alloc-block-stmt-processor :
  import core
  import collections
  import stz/reg-alloc-ir

;<doc>
What do we need for Annotations?

- Process the input/output ports.
- Allow emitting instructions during this stage.
- Scan the instructions in reverse.
- Emit instructions into a new buffer.
- Allow replacing the ports. 


Processor:
- Process instructions
- Retrieve input ports
- Retrieve output ports
- Update ports

Buffer:
- Emit instruction

;<doc>