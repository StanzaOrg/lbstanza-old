defpackage stz/stitcher-local-table :
  import core
  import collections
  import stz/asm-ir

;============================================================
;========================= API ==============================
;============================================================

;Assembly table of locals.
public deftype LocalTable

;Represents the locals within a single package.
public deftype PackageLocals

;Retrieve the package locals for a given package.
public defmulti package-locals (t:LocalTable, package:Symbol) -> PackageLocals

;Save one mapping of variables.
public defmulti save-var-context (p:PackageLocals, ctxt:VarContext) -> False

;Record the variable mapping at a given spot in the assembly code.
public defmulti save-varmap (p:PackageLocals, label-id:Int, map:VarMap) -> False

;Emit the local table.
public defmulti emit (p:PackageLocals, emitter:CodeEmitter) -> False

;============================================================
;============================================================
;============================================================