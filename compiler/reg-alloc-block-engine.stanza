defpackage stz/reg-alloc-block-engine :
  import core
  import collections
  import stz/reg-alloc-ir
  import stz/reg-alloc-engine
  import stz/printing-utils

public defstruct BlockEngine :
  inputs:Vector<Port> with:
    init => Vector<Port>()
  instructions:Vector<ProgramStmt> with:
    init => Vector<ProgramStmt>()
  outputs:Vector<Port> with:
    init => Vector<Port>()  
  model-properties:Vector<ModelProperties>

defmethod print (o:OutputStream, be:BlockEngine) :
  val items = [
    named-list-fields("inputs", inputs(be))
    named-list-fields("instructions", instructions(be))
    named-list-fields("outputs", outputs(be))]
  print(o, "BlockEngine%_" % [colon-field-list(items)])