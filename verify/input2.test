($begin

($package core)
($deftype Int () ($none))
($deftype Tuple (t) ($none))

($package package1
   ($import package2
      ($prefix-of (f) p2-)))

;($deftype a (a b) ($none))
;($deftype b () ($of a x))

($protected ($deftype x () ($none)))
($defn g () () ($none) () 1)
($defn g () () ($none) () 2)

($defn f (($cap T) ($cap S)) (($cap T) ($cap S)) ($none) (x y) ($begin
   ($defn g2 (($cap T)) (($cap T)) ($none) (x) g)
   ($do g package2/x)))

($package package2)

($protected ($def x ($none) 3))
($public ($def ($tuple z ($tuple y2 y)) package1/x 3))
($public ($def f ($none) 3))

($lostanza
   ($defn f (($int)) ($int) (x) ($begin
      ($label L)
      ($label M)
      ($goto L)
      ($return x)))
)


)