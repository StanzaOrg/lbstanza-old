defpackage user :
   import core
   import reader
   import macro-utils

defn test-reader () :
   val form = read-file("data.txt")
   println(form)

defn test-macros () :
   val template = `(
      There are x worlds in the universe
      item{
         name => taste
      })
   val form = fill-template(template, [
      `x => 42
      `item => nested $ [
         [`name => `mom
          `taste => `pastries]
         [`name => `dad
          `taste => `cinnamon]
         [`name => `luca
          `taste => `ramen]]])
   println(form)
   
test-macros()