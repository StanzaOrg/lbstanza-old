defpackage user :
   import core
   import collections
   import stz/arg-parser

defn main () :
   println(INT-MAX)
   println(INT-MIN)
   
   val comms = [
      Command("log", [MarkerFlag("G"), SingleFlag("l")])
      Command("update", [SingleFlag("r", true), MultipleFlag("f")])
      Command("refresh", [SingleFlag("r"), MultipleFlag("f", true), MarkerFlag("all")])]
      
   try :
      val args = to-seq(command-line-arguments())
      next(args)
      val r = parse-args(comms, false, args)
      println(command(r))
   catch (e:Exception) :
      println(e)   

main()